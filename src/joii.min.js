/**
 * (JOII) Javascript Object Inheritance Implementation
 *
 * @author Harold Iedema <harold@iedema.me>
 */
window.Class=function(e,t){if(t===undefined&&typeof e==="function"){t=e;e={}}return function(){var n=function(){this.parent={}};if(typeof e.extends==="function"){if(e.extends.toString().indexOf("is-class-reference")!==-1){var r=Object.create(e.extends.prototype);n=e.extends.apply(r,arguments)}else{var r=Object.create(e.extends.prototype);e.extends.apply(r,arguments);n=r}}var i={};if(e.uses!==undefined){var s=typeof e.uses==="object"?e.uses:[e.uses];for(var o in s){for(var u in s[o]){if(typeof s[o][u]==="function"){i[u]=s[o][u]}}}}var a=[];if(e.implements!==undefined){var f=typeof e.implements==="object"?e.implements:[e.implements];for(var l in f){if(typeof f[l]!=="object"){throw"Interfaces should be of type Object, "+typeof f[l]+" given."}a.push(f[l])}}var c=Object.create(t.prototype);for(var u in i){if(c[u]===undefined){c[u]=i[u]}}var h=t.apply(c,arguments);for(var u in c){if(n[u]!==undefined){n.parent=n.parent||{};n.parent[u]=n[u]}n[u]=c[u]}var u,p;n.__interfaces__=n.__interfaces__||[];for(var u in a){n.__interfaces__.push(a[u])}for(u in a){for(p in a[u]){var d=typeof a[u][p];if(typeof n[p]!==d){throw"Missing "+d+" implementation: "+p}}}n.implements=function(e){var t=[];for(var n in e){t.push(typeof e[n]+":"+n)}t=JSON.stringify(t);for(var e in this.__interfaces__){var r=[];for(var n in this.__interfaces__[e]){r.push(typeof this.__interfaces__[e][n]+":"+n)}r=JSON.stringify(r);if(t===r){return true}}return false};if(typeof c.__construct==="function"){c.__construct.apply(n,arguments)}return n}}
