"use strict";!function(e){"function"==typeof define&&define.amd?define([],e):e("object"==typeof exports?exports:window)}(function(e){e="undefined"!=typeof e?e:{};var t="undefined"!=typeof e.JOII?e.JOII:{},i={};return t="undefined"!=typeof t?t:{},t.Config={constructors:["__construct","construct","->","=>"],callables:["__call","<>"],addConstructor:function(e){-1===t.Config.constructors.indexOf(e)&&t.Config.constructors.push(e)},removeConstructor:function(e){-1!==t.Config.constructors.indexOf(e)&&t.Config.constructors.splice(t.Config.constructors.indexOf(e),1)},addCallable:function(e){-1===t.Config.callables.indexOf(e)&&t.Config.callables.push(e)},removeCallable:function(e){-1!==t.Config.callables.indexOf(e)&&t.Config.callables.splice(t.Config.callables.indexOf(e),1)}},t="undefined"!=typeof t?t:{},t.Compat={},t.Compat.findJOIIName=function(e,i){var n,a;if("string"==typeof e||"number"==typeof e||"undefined"==typeof e||null===e)return!1;if("undefined"!=typeof e.__joii__&&null!==e.__joii__)return e.__joii__.name;if("undefined"!=typeof e.prototype&&"undefined"!=typeof e.prototype.__joii__)return e.prototype.__joii__.name;if(i)return!1;if("undefined"!=typeof e.__proto__&&null!==e.__proto__&&(a=t.Compat.findJOIIName(e.__proto__,!0),"string"==typeof a))return a;"function"==typeof e&&(e=e.prototype);for(n in e)if(e.hasOwnProperty(n)!==!1&&("function"==typeof e[n]||"object"==typeof e[n])&&(a=t.Compat.findJOIIName(e[n],!0),"string"==typeof a))return a;return!1},t.Compat.indexOf=function(e,t){if("function"==typeof e.indexOf)return e.indexOf(t);var i=e.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),n=0>n?n+i:n;i>n;n++)if(n in e&&e[n]===t)return n;return-1},t.Compat.extend=function(){var e,i,n,a,r=!1,o=arguments[0]||{},s=1,f=arguments.length,_=!1;for("boolean"==typeof o&&(_=o,o=arguments[s]||{},s++),"object"!=typeof o&&"function"!=typeof o&&(o={});f>s;s++)if(e=arguments[s],null!==e&&void 0!==arguments[s]){"undefined"!=typeof e.__joii__&&t.CreateProperty(o,"__joii__",e.__joii__);for(var p in e)i=o[p],n=e[p],o!==n&&(_&&n&&(t.Compat.isPlainObject(n)||(r=t.Compat.isArray(n)))?(r?(r=!1,a=i&&t.Compat.isArray(i)?i:[]):a=i&&t.Compat.isPlainObject(i)?i:{},o[p]=t.Compat.extend(_,a,n)):void 0!==n&&(o[p]=n))}return o},t.Compat.flattenObject=function(e){var i=null;i=t.Compat.isArray(e)?[]:{};for(var n in e)if(e.hasOwnProperty(n)!==!1){var a=e[n];if("object"==typeof a&&null!==a&&"serialize"in a&&"function"==typeof a.serialize)try{i[n]=a.serialize(!0),"string"==typeof i[n]&&(i[n]=JSON.parse(i[n]))}catch(r){i[n]=t.Compat.flattenObject(a)}else"object"==typeof a&&null!=a?i[n]=t.Compat.flattenObject(a):i[n]=a}return i},t.Compat.inflateObject=function(e,i){var n=i||null;("object"!=typeof n||null==n)&&(n=t.Compat.isArray(e)?[]:{});for(var a in e)if(e.hasOwnProperty(a)!==!1){var r=e[a];if("object"==typeof r&&null!==r&&"__joii_type"in r&&"string"==typeof r.__joii_type){var o=r.__joii_type;if("undefined"!=typeof t.InterfaceRegistry[o])throw"Cannot instantiate an interface.";if("undefined"==typeof t.ClassRegistry[o])throw"Class "+o+" not currently in scope!";var s=n[a];"object"==typeof s&&null!==s&&"__joii__"in s&&"object"==typeof s.__joii__&&null!==s.__joii__&&s.__joii__.name===o?s.deserialize(r):n[a]=t.ClassRegistry[o].deserialize(r)}else"object"==typeof r&&null!=r?n[a]=t.Compat.inflateObject(r,n[a]):n[a]=r}return n},t.Compat.isArray=function(e){var t=e.length,i=typeof e;return"function"===i||"undefined"!=typeof window&&e===window?!1:1===e.nodeType&&t?!0:"[object Array]"===Object.prototype.toString.call(e)},t.Compat.isPlainObject=function(e){var t={}.hasOwnProperty;return"object"!=typeof e||e.nodeType||"undefined"!=typeof window&&e===window?!1:!(e.constructor&&!t.call(e.constructor.prototype,"isPrototypeOf"))},t.Compat.CreateObject=function(e){if("function"==typeof Object.create)return Object.create(e);var t=function(){function e(){}return function(t){if(1!=arguments.length)throw new Error("JOII.Compat.CreateObject implementation only accepts one parameter.");return e.prototype=t,new e}}();return t(e)},t.Compat.Bind=function(e,t){if("function"!=typeof e)throw new TypeError("Function.prototype.bind - argument #1 must be a function.");return function(){return e.apply(t,arguments)}},t.Compat.GenerateUUID=function(){for(var e=[],t="0123456789abcdef",i=0;36>i;i++)e[i]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},t.Compat.ParseArguments=function(e){var i={name:"",parameters:{},body:{}};switch(e.length){case 0:i.name=t.Compat.GenerateUUID();break;case 1:"string"==typeof e[0]&&(i.name=e[0]),"object"==typeof e[0]&&(i.name=t.Compat.GenerateUUID(),i.body=e[0]);break;case 2:"string"==typeof e[0]&&(i.name=e[0]),"object"==typeof e[0]&&(i.name=t.Compat.GenerateUUID(),i.parameters=e[0]),i.body=e[1];break;case 3:i.name=e[0],i.parameters=e[1],i.body=e[2];case 4:i.name=e[0],i.parameters=e[1],i.body=e[2],i.is_static_generated=e[3]}if("string"!=typeof i.name||"object"!=typeof i.parameters||"object"!=typeof i.body&&"function"!=typeof i.body)throw"Invalid parameter types given. Expected: ([[[string], object], <object|function>]).";return i},t.Compat.flexibleArgumentToArray=function(e,i){if("object"!=typeof e||t.Compat.isArray(e)||"undefined"!=typeof e[0]){if("function"==typeof e)return[i?t.Compat.extend(!0,{},e.prototype):e.prototype];if("object"==typeof e&&t.Compat.isArray(e)){var n=[];for(var a in e)n.push(t.Compat.flexibleArgumentToArray(e[a],!1)[0]);return n}throw"Unable to read "+typeof e+". Object, function or array expected."}return[i?t.Compat.extend(!0,{},e):e]},t.Compat.canTypeBeCastTo=function(e,i){if("undefined"!=typeof t.InterfaceRegistry[i]||"undefined"!=typeof t.ClassRegistry[i]){if(t.Compat.findJOIIName(e)!==i&&null!==e&&("function"!=typeof e.instanceOf||"object"==typeof e&&"function"==typeof e.instanceOf&&!e.instanceOf(i)))return!1}else if("undefined"!=typeof t.EnumRegistry[i]){var n=t.EnumRegistry[i];if(!n.contains(e))return!1}else if(typeof e!==i)return!1;return!0},t="undefined"!=typeof t?t:{},t.InternalPropertyNames=["__joii__","super","instanceOf","deserialize","serialize","getStatic","__api__"],t.InternalTypeNames=["undefined","object","boolean","number","string","symbol","function","const"],t.PrototypeBuilder=function(e,n,a,r,o){o=o===!0;var s={},f=t.Compat.extend(!0,{},a),_={};if(t.CreateProperty(s,"__joii__",{name:e,parent:void 0,metadata:{},constants:{},implementations:[e],is_abstract:n["abstract"]===!0,is_final:n["final"]===!0,is_static:n["static"]===!0||o}),"undefined"!=typeof n.uses){var p=t.Compat.flexibleArgumentToArray(n.uses);for(var c in p)f=t.Compat.extend(!0,f,p[c])}if(s.__joii__.is_abstract&&s.__joii__.is_final)throw"A class cannot be both abstract and final simultaniously.";"__meta"in f&&"object"==typeof f.__meta?(_=s.__joii__.meta_attribute_mixins=t.Compat.extend(!0,{},f.__meta),delete f.__meta):_=s.__joii__.meta_attribute_mixins={};for(var l in f)if(f.hasOwnProperty(l)!==!1){var u=t.ParseClassProperty(l,e,_);if(s.__joii__.is_static===!0||!u.is_static||r){if(s.__joii__.is_static&&!u.is_static){if(o)continue;throw"Member "+u.name+" is non-static. A static class cannot contain non-static members."}if("function"==typeof f[l]||u.parameters.length>0||u.name in s.__joii__.metadata&&"overloads"in s.__joii__.metadata[u.name]){if("function"!=typeof f[l])throw u.parameters.length>0?"Member "+u.name+" specifies parameters, but it's value isn't a function.":"Member "+u.name+" overloads an existing function, but it's value isn't a function.";if(u.name in s&&"function"!=typeof s[u.name])throw"Member "+u.name+" overloads an existing property, but the previous property isn't a function.";u.class_name=e,t.addFunctionToPrototype(s,u,f[l])}else u.is_constant?(s.__joii__.constants[u.name]=f[l],t.CreateProperty(s,u.name,f[l],!1),u.class_name=e,s.__joii__.metadata[u.name]=u):(s[u.name]=f[l],u.class_name=e,s.__joii__.metadata[u.name]=u)}}if("undefined"!=typeof n["abstract"]&&(s.__joii__.is_abstract=!0,r))throw"An interface cannot be declared abstract.";if(s.__joii__.is_static&&r)throw"An interface cannot be declared static.";for(var l in s.__joii__.metadata)if(s.__joii__.metadata.hasOwnProperty(l)!==!1){var u=s.__joii__.metadata[l];if(!("function"==typeof s[l]||u.parameters.length>0||"overloads"in u)&&(s.__joii__.is_static===!0||!u.is_static||r)){if(s.__joii__.is_static&&!u.is_static){if(o)continue;throw"Member "+u.name+"is non-static. A static class cannot contain non-static members."}if("private"!==u.visibility){var m=t.CreatePropertyGetterSetter(f,u,e);m.getter.meta.class_name=e,"undefined"!=typeof s.__joii__.metadata[m.getter.name]&&s.__joii__.metadata[m.getter.name].has_parameterless||t.addFunctionToPrototype(s,m.getter.meta,m.getter.fn,!0),"undefined"!=typeof m.setter.meta&&(m.setter.meta.class_name=e,"undefined"!=typeof s.__joii__.metadata[m.getter.name]&&s.__joii__.metadata[m.getter.name].has_parameterless||t.addFunctionToPrototype(s,m.setter.meta,m.setter.fn,!0))}}}t.callMetaMixin("beforeDefine",s);for(var d in s.__joii__.metadata)if(s.__joii__.metadata.hasOwnProperty(d)!==!1){var u=s.__joii__.metadata[d];t.callMetaMixin("onDefine",s,u)}if(t.callMetaMixin("afterDefine",s),"undefined"!=typeof n["extends"]){var y=n["extends"];if("function"==typeof y&&(y=o?y.__joii__.prototype:y.prototype),"object"!=typeof y&&!o)throw(r?"An interface":"A class")+" may only extend on functions or object-types.";if(s.__joii__.parent=t.Compat.extend(!0,{},y),y.__joii__.is_final===!0)throw"Unable to extend on a final class.";for(var h=s.__joii__.parent;"undefined"!=typeof h;)s.__joii__.implementations.push(h.__joii__.name),h=h.__joii__.parent;s.__joii__.constants=t.Compat.extend(!0,s.__joii__.constants,y.__joii__.constants),t.CreateProperty(s.__joii__.parent,"__joii__",y.__joii__);for(l in s.__joii__.parent)if(s.__joii__.parent.hasOwnProperty(l)&&-1===t.Compat.indexOf(t.InternalPropertyNames,l)){var b=s.__joii__.parent[l],g=s.__joii__.parent.__joii__.metadata[l],v=s.__joii__.metadata[l];if(s.__joii__.is_static===!0||!g.is_static||r){if(s.__joii__.is_static&&!g.is_static){if(o)continue;throw"Member "+g.name+"is non-static. A static class cannot contain non-static members."}if("undefined"==typeof v&&(v=s.__joii__.metadata[l]=t.Compat.extend(!0,{},g),v.has_parameterless=!1,"overloads"in v&&delete v.overloads),"undefined"!=typeof s[l]&&"object"==typeof g&&"object"==typeof v){if(v.is_generated===!1){if(g.visibility!==v.visibility)throw'Member "'+l+'" must be '+g.visibility+" as defined in the parent "+(r?"interface":"class")+".";if("function"==typeof b||g.parameters.length>0||"overloads"in v||"overloads"in g);else{if(g.is_final===!0)throw'Final member "'+l+'" cannot be overwritten.';if(g.is_read_only!==v.is_read_only)throw'Member "'+l+'" must be read-only as defined in the parent '+(r?"interface":"class")+".";if(g.is_nullable!==v.is_nullable)throw'Member "'+l+'" must be nullable as defined in the parent '+(r?"interface":"class")+"."}}if(!("function"==typeof b||g.parameters.length>0||"overloads"in v||"overloads"in g))continue}if("function"==typeof b||g.parameters.length>0||"overloads"in v||"overloads"in g);else if("function"!=typeof b||r===!0){if(g.is_static||(s[l]=b),g.is_static){var m=t.CreatePropertyGetterSetter(s,g,e);m.getter.fn=Function('                            var args = ["'+m.getter.name+"\"];                            for (var i in arguments) { args.push(arguments[i]); }                            return this['super'].apply(this, args);                        "),m.setter.fn=Function('                            var args = ["'+m.setter.name+"\"];                            for (var i in arguments) { args.push(arguments[i]); }                            return this['super'].apply(this, args);                        "),"undefined"!=typeof m.getter.meta&&(m.getter.meta.is_generated=!0,m.getter.meta.is_inherited=!0,t.addFunctionToPrototype(s,m.getter.meta,m.getter.fn,!0)),"undefined"!=typeof m.setter.meta&&(m.setter.meta.is_generated=!0,m.setter.meta.is_inherited=!0,t.addFunctionToPrototype(s,m.setter.meta,m.setter.fn,!0))}continue}var j=null;j=g.is_static?function(e,t){return function(){return i[t][e].apply(i[t],arguments)}}(l,g.class_name):Function('                    var args = ["'+l+"\"];                    for (var i in arguments) { args.push(arguments[i]); }                    return this['super'].apply(this, args);                ");var C=t.Compat.extend(!0,{},g);if(delete C.overloads,C.is_inherited=!0,C.has_parameterless=!1,v.has_parameterless){if(g.is_final)throw'Final member "'+g.name+"("+g.parameters.join(", ")+')" cannot be overwritten.'}else if("function"==typeof b||g.parameters.length>0||"overloads"in v||"overloads"in g)if("overloads"in g&&"object"==typeof g.overloads&&g.overloads.length>1)for(var w=0;w<g.overloads.length;w++)C.parameters=g.overloads[w].parameters,C.is_abstract=g.overloads[w].is_abstract,C.has_parameters=g.overloads[w].has_parameters,C.is_final=g.overloads[w].is_final,t.addFunctionToPrototype(s,C,j,!0);else t.addFunctionToPrototype(s,C,j,!0);else s[l]=j}}}return r!==!0&&(s["super"]=function(e){var t=Array.prototype.slice.call(arguments,1),i=this,n=this.__joii__,a=function(e,t,r){if("undefined"==typeof e)throw new Error('Parent method "'+t+'" does not exist.');if("undefined"!=typeof e.__joii__.parent&&"undefined"==typeof e.__joii__.parent[t])return a(e.__joii__.parent,t,r);var o=e.__joii__.parent;if("undefined"==typeof e.__joii__.parent){if("undefined"==typeof e.__api__.__joii__.parent)throw new Error('Method "'+t+"\" does not exist in the parent class. (called using 'super()')");o=e.__api__.__joii__.parent}var s=o[t];i.__joii__=o.__joii__;var f=s.apply(i,r);return i.__joii__=n,f};return a(this,e,t)},s.instanceOf=function(e){"function"==typeof e?e=e.prototype.__joii__.name:"object"==typeof e&&(e=e.__joii__.name);var i=this.__joii__.getInterfaces();for(var n in i)if(i.hasOwnProperty(n)!==!1){if(i[n].prototype.__joii__.name===e)return!0;if(-1!==t.Compat.indexOf(i[n].prototype.__joii__.implementations,e))return!0}if(this.__joii__.name!==e){if("undefined"!=typeof this.__joii__.parent){var a=this,r=this.__joii__.parent;t.Compat.Bind(r.instanceOf,r);var o=r.instanceOf(e);return t.Compat.Bind(r.instanceOf,a),o}return!1}return!0}),s},t.ParseClassProperty=function(e,i,n){"object"!=typeof n&&(n={});var a=/\(.*\)/.exec(e.toString()),r=!1;null!==a&&(r=!0,a=a[0].match(/[^\(,\s\)]+/g)),("object"!=typeof a||null===a)&&(a=[]);var o,s=e.toString().replace(/\s?\(.*\)\s?|^\s+|\s+(?=\s)|\s+$/g,"").split(/\s/),f=s[s.length-1],_=t.InternalTypeNames,p=!1,c={name:f,type:null,visibility:"public",is_abstract:!1,is_final:!1,is_nullable:!1,is_read_only:!1,is_constant:!1,is_static:!1,is_enum:!1,is_generated:!1,is_inherited:!1,is_joii_object:!1,serializable:!1,has_parameters:r,parameters:a,meta_traits:[]};for(var l in t.Config.callables)t.Config.callables[l]==f&&(c.is_static=!0);if(s.pop(),0===s.length)return c;var u=[];for(o in s)"undefined"==typeof t.InterfaceRegistry[s[o]]&&"undefined"==typeof t.ClassRegistry[s[o]]&&(u[o]=s[o].toString(),s[o]=u[o].toLowerCase());var m={};for(o in n)m[o.toLowerCase()]=o;var d=function(e,i,n){"object"!=typeof e&&(e=[e]);for(var a in e)if(e.hasOwnProperty(a)!==!1&&-1!==t.Compat.indexOf(i,e[a]))throw n};for(o in s)switch(s[o]){case"public":d("protected",s,'Property "'+f+'" cannot be both public and protected at the same time.'),d("private",s,'Property "'+f+'" cannot be both public and private at the same time.'),c.visibility="public",p||(c.serializable=!0);break;case"protected":d("public",s,'Property "'+f+'" cannot be both protected and public at the same time.'),d("private",s,'Property "'+f+'" cannot be both protected and private at the same time.'),c.visibility="protected";break;case"private":d("public",s,'Property "'+f+'" cannot be both private and public at the same time.'),d("protected",s,'Property "'+f+'" cannot be both private and protected at the same time.'),c.visibility="private";break;case"abstract":d("final",s,'Property "'+f+'" cannot be both abstract and final at the same time.'),c.is_abstract=!0;break;case"final":d("abstract",s,'Property "'+f+'" cannot be both abstract and final at the same time.'),c.is_final=!0;break;case"nullable":c.is_nullable=!0;break;case"static":c.is_static=!0;break;case"read":case"immutable":c.is_read_only=!0;break;case"serializable":c.serializable=!0,p=!0;break;case"notserializable":c.serializable=!1,p=!0;break;case"const":d(["private","protected","public"],s,"A constant cannot have visibility modifiers."),d("final",s,"A constant cannot be final."),d("abstract",s,"A constant cannot be abstract."),d(["nullable","immutable","read"],s,"A constant cannot be nullable or immutable."),c.is_constant=!0;break;default:if(s[o]in m&&"object"==typeof n[m[s[o]]]){c.meta_traits.push(m[s[o]]);break}if(-1!==t.Compat.indexOf(_,s[o])){if(null!==c.type)throw'Property "'+f+'" has multiple type defintions.';c.type=s[o];break}if("undefined"!=typeof t.InterfaceRegistry[s[o]]){c.is_joii_object=!0,c.type=t.InterfaceRegistry[s[o]].definition.__interface__.name;break}if("undefined"!=typeof t.ClassRegistry[s[o]]){c.is_joii_object=!0,c.type=t.ClassRegistry[s[o]].prototype.__joii__.name;break}if("undefined"!=typeof t.EnumRegistry[s[o]]){c.is_enum=!0,c.type=s[o];break}if(i==u[o]){c.is_joii_object=!0,c.type=s[o];break}throw'Syntax error: unexpected "'+s[o]+'" in property declaration of "'+f+'".'}return c},t.callMetaMixin=function(e,t,i,n){"undefined"==typeof n&&"undefined"!=typeof i&&("__joii__"in i||(n=i,i=void 0));var a=t.__joii__.meta_attribute_mixins;if("undefined"==typeof n)for(var r in a)"object"==typeof a[r]&&"function"==typeof a[r][e]&&("undefined"==typeof i?a[r][e](t,n):a[r][e](t,i,n));else if("object"==typeof n.overloads)for(var o in n.overloads)for(var s=n.overloads[o],r=0;r<s.meta_traits.length;r++)"object"==typeof a[s.meta_traits[r]]&&"function"==typeof a[s.meta_traits[r]][e]&&("undefined"==typeof i?a[s.meta_traits[r]][e](t,s):a[s.meta_traits[r]][e](t,i,s));else for(var r=0;r<n.meta_traits.length;r++)"object"==typeof a[n.meta_traits[r]]&&"function"==typeof a[n.meta_traits[r]][e]&&("undefined"==typeof i?a[n.meta_traits[r]][e](t,n):a[n.meta_traits[r]][e](t,i,n))},t.GenerateGetterName=function(e){var i="";return"boolean"===e.type?"Is"===t.CamelcaseName(e.name).substr(0,2)?(i=t.CamelcaseName(e.name),i=i.substring(0,1).toLowerCase()+i.substring(1)):i="is"+t.CamelcaseName(e.name):i="get"+t.CamelcaseName(e.name),i},t.GenerateSetterName=function(e){return"set"+t.CamelcaseName(e.name)},t.CreatePropertyGetterSetter=function(e,n,a){var r,o,s,f,_,p;if(r=t.GenerateGetterName(n),f=t.GenerateSetterName(n),"undefined"==typeof e[r]&&(s=n.is_static?function(e,t){return function(){return i[e][t]}}(a,n.name):new Function('return this["'+n.name+'"];'),o=t.ParseClassProperty(n.visibility+" function "+r+"()",a),o.visibility=n.visibility,o.is_abstract=n.is_abstract,o.is_final=n.is_final,o.is_static=n.is_static,o.class_name=n.class_name),"undefined"==typeof e[f]&&n.is_read_only===!1){var c=n.is_nullable;p=null!==n.type?"undefined"!=typeof t.InterfaceRegistry[n.type]||"undefined"!=typeof t.ClassRegistry[n.type]?function(e,i,n,a,r){return function(e){if(null!==n)if(t.Compat.findJOIIName(e[0])===n);else if((null!==e[0]&&"function"!=typeof e[0].instanceOf||"object"==typeof e[0]&&null!==e[0]&&"function"==typeof e[0].instanceOf&&!e[0].instanceOf(n)||null===e[0])&&(a===!1||a===!0&&null!==e[0]&&"undefined"!=typeof e[0]))throw r+" expects an instance of "+n+", "+(null===e[0]?"null":typeof e[0])+" given.";return this[i]=e[0],this.__api__}}(a,n.name,n.type,c,f):function(e,i,n,a,r){return function(e){if(null!==n)if("undefined"!=typeof t.EnumRegistry[n]){var o=t.EnumRegistry[n];if(!o.contains(e[0]))throw r+": '"+e[0]+"' is not a member of enum "+o.getName()+"."}else if(typeof e[0]!==n&&(a===!1||a===!0&&null!==e[0]&&"undefined"!=typeof e[0]))throw r+" expects "+n+", "+typeof e[0]+" given.";return this[i]=e[0],this.__api__}}(a,n.name,n.type,c,f):function(e){return function(t){return this[e]=t[0],this.__api__}}(n.name),n.is_static&&(p="undefined"!=typeof t.InterfaceRegistry[n.type]||"undefined"!=typeof t.ClassRegistry[n.type]?function(e,n,a,r,o){return function(s){if(null!==a)if(t.Compat.findJOIIName(s[0])===a);else if((null!==s[0]&&"function"!=typeof s[0].instanceOf||"object"==typeof s[0]&&null!==s[0]&&"function"==typeof s[0].instanceOf&&!s[0].instanceOf(a)||null===s[0])&&(r===!1||r===!0&&null!==s[0]&&"undefined"!=typeof s[0]))throw o+" expects an instance of "+a+", "+(null===s[0]?"null":typeof s[0])+" given.";return i[e][n]=s[0],this.__api__}}(a,n.name,n.type,c,f):function(e,n,a,r,o){return function(s){if(null!==a)if("undefined"!=typeof t.EnumRegistry[a]){var f=t.EnumRegistry[a];if(!f.contains(s[0]))throw o+": '"+s[0]+"' is not a member of enum "+f.getName()+"."}else if(typeof s[0]!==a&&(r===!1||r===!0&&null!==s[0]&&"undefined"!=typeof s[0]))throw o+" expects "+a+", "+typeof s[0]+" given.";return i[e][n]=s[0],this.__api__}}(a,n.name,n.type,c,f)),_=t.ParseClassProperty(n.visibility+" function "+f+"(...)",a),_.visibility=n.visibility,_.is_abstract=n.is_abstract,_.is_final=n.is_final,_.is_static=n.is_static,_.class_name=n.class_name}return{getter:{name:r,fn:s,meta:o},setter:{name:f,fn:p,meta:_}}},t.CreateProperty=function(e,t,i,n){try{"undefined"!=typeof Object.defineProperty?Object.defineProperty(e,t,{value:i,enumerable:n===!1,configurable:n!==!1,writable:n!==!1}):e[t]=i}catch(a){e[t]=i}},t.addFunctionToPrototype=function(e,i,n,a){if(i.is_abstract&&i.is_final)throw'Member "'+i.name+"("+i.parameters.join(", ")+')" cannot be both abstract and final simultaniously.';"undefined"==typeof a&&(a=!1),"object"!=typeof e.__joii__.metadata[i.name]&&(e.__joii__.metadata[i.name]=t.Compat.extend(!0,{},i),e.__joii__.metadata[i.name].overloads=[]);var r=e.__joii__.metadata[i.name];if("object"!=typeof r.overloads&&(r.overloads=[]),r.visibility!==i.visibility)throw"Member "+i.name+": inconsistent visibility.";r.has_parameterless;r.is_abstract=!1,r.is_final=!1,r.has_parameterless=!1;for(var o=0;o<i.parameters.length-1;o++)if("..."==i.parameters[o])throw"Member "+i.name+": Variadic parameter (...) must be the last in the function parameter list.";for(var s=!i.is_final,f=0;f<r.overloads.length;f++){var _=r.overloads[f],p=!1;if(_.is_abstract&&(p=!0),_.has_parameters||(r.has_parameterless=!0),s=s||!_.is_final,_.parameters.length===i.parameters.length){for(var c=!1,l=0;l<_.parameters.length;l++)_.parameters[l]!=i.parameters[l]&&(c=!0);if(!c){if(!_.is_abstract){if(i.is_final)throw'Final member "'+i.name+"("+i.parameters.join(", ")+')" cannot be overwritten.';if(a)return!1;throw'Member "'+i.name+"("+i.parameters.join(", ")+')" is defined twice.'}r.overloads.splice(f,1),f--,p=!1}}p&&(r.is_abstract=!0)}var u={name:i.name,type:i.type,visibility:i.visibility,is_nullable:i.is_nullable,is_read_only:i.is_read_only,is_constant:i.is_constant,is_static:i.is_static,is_enum:i.is_enum,is_generated:i.is_generated,is_joii_object:i.is_joii_object,serializable:i.serializable,is_abstract:i.is_abstract,is_final:i.is_final,is_inherited:i.is_inherited,has_parameters:i.has_parameters,parameters:i.parameters,fn:n,meta_traits:i.meta_traits};return i.has_parameters||(r.has_parameterless=!0),e.__joii__.metadata[i.name].overloads.push(u),u.is_abstract&&(e.__joii__.metadata[i.name].is_abstract=!0),e.__joii__.metadata[i.name].is_final=!s,e[i.name]=t.createFunctionShim(i.name,e.__joii__.metadata[i.name].overloads),!0},t.createFunctionShim=function(e,i){return function(){if(1===i.length&&0===i[0].parameters.length)return i[0].fn.apply(this,arguments);for(var n=null,a=-1,r=null,o=0;o<i.length;o++){var s=i[o],f=s.parameters,_=!0;if(s.has_parameters||(r=s),f.length==arguments.length){for(var p=0;p<f.length;p++)if(!t.Compat.canTypeBeCastTo(arguments[p],f[p])){_=!1;break}if(_)return s.fn.apply(this,arguments)}if("..."==f[f.length-1]){_=null;for(var c=0,p=0;p<f.length;p++)if("..."===f[p])_=!0;else{if(!t.Compat.canTypeBeCastTo(arguments[p],f[p])){_=!1;break}c++}_&&c>a&&(n=s,a=c)}}if(null!=n){if(!s.is_inherited){for(var l=[],p=n.parameters.length-1;p<arguments.length;p++)l.push(arguments[p]);arguments.length=n.parameters.length,arguments[n.parameters.length-1]=l}return n.fn.apply(this,arguments)}if(null!=r)return r.fn.apply(this,arguments);for(var u=[],p=0;p<arguments.length;p++){var m=t.Compat.findJOIIName(arguments[p]);m||(m=typeof arguments[p]),u.push(null===m?typeof arguments[p]:m)}if(!(1==arguments.length&&"object"==typeof arguments[0]&&"__joii_deserialize_object"in arguments[0]))throw"Couldn't find a function handler to match: "+e+"("+u.join(", ")+")."}},t.CamelcaseName=function(e){return e=e.toLowerCase().replace(/_(.)/g,function(e,t){return t.toUpperCase()}),e.charAt(0).toUpperCase()+e.slice(1)},t="undefined"!=typeof t?t:{},t.ClassRegistry={},t.ClassBuilder=function(){function e(){return"undefined"==typeof this||"undefined"==typeof this.__joii__?n.apply(void 0,arguments):new n}function n(){var e=function(){};e.prototype=this;var i=new e,n=o(this,arguments,i,!1);if("undefined"==typeof this||"undefined"==typeof this.__joii__||"object"!=typeof n||"undefined"==typeof n.__joii__)return n;var f=s(this,n);r(n,f),t.callMetaMixin("beforeNew",n,f);for(var _ in n.__joii__.metadata)if(n.__joii__.metadata.hasOwnProperty(_)!==!1){var p=n.__joii__.metadata[_];t.callMetaMixin("onNew",n,f,p)}return t.callMetaMixin("afterNew",n,f),a(n,arguments),f}function a(e,i){for(var n in t.Config.constructors)if(t.Config.constructors.hasOwnProperty(n)){var a=t.Config.constructors[n];if("function"==typeof e[a]){e[a].apply(e,i);break}}1==i.length&&"object"==typeof i[0]&&"__joii_deserialize_object"in i[0]&&e.deserialize(i[0].data)}function r(e,t){if(e.__api__=t,"undefined"!=typeof e.__joii__.parent)for(var i=e.__joii__.parent;"undefined"!=typeof i;)i.__api__=t,i=i.__joii__.parent}function o(i,n,a,r){var o=a||{};if(r=r||!1,o=t.Compat.extend(!0,{},o),"undefined"!=typeof i&&t.CreateProperty(o,"__joii__",i.__joii__),"undefined"!=typeof i&&"object"==typeof o.__joii__){if(o.__joii__.is_abstract===!0)throw"An abstract class cannot be instantiated.";if(!r&&o.__joii__.is_static===!0)throw"A static class cannot be instantiated."}if("undefined"==typeof i||"undefined"==typeof i.__joii__){if("undefined"!=typeof e)for(var s in t.Config.callables)if(t.Config.callables.hasOwnProperty(s)&&"function"==typeof e[t.Config.callables[s]]){var f=e[t.Config.callables[s]].apply(m,n);if(f===m)throw t.Config.callables[s]+" cannot return itself.";return f}throw"This class cannot be called as a function because it's lacking the __call method."}if(i.__joii__.is_abstract)throw"Cannot instantiate abstract class "+i.__joii__.name;return o}function s(e,i,n){var a=n||{};if("undefined"!=typeof e&&"object"==typeof e.__joii__){if(t.CreateProperty(a,"__joii__",e.__joii__),a.__joii__.is_abstract===!0)throw"An abstract class cannot be instantiated.";for(var r in e){var o=i.__joii__.metadata[r];if(o&&"overloads"in o){for(var s in o.overloads)if(o.overloads[s]&&o.overloads[s].is_abstract===!0)throw"Missing abstract member implementation of "+r+"("+o.overloads[s].parameters.join(", ")+")"}else if(o&&o.is_abstract===!0)throw'Missing abstract member implementation of "'+r+'".'}}return f(i,a),a}function f(e,i){for(var n in e){var a=e.__joii__.metadata[n];"function"!=typeof e[n]||"undefined"!=typeof a&&"public"!==a.visibility||"__call"===n||(i[n]=t.Compat.Bind(e[n],e))}}function _(e){e.getInterfaces=t.Compat.Bind(function(){var e=[],i=t.Compat.Bind(function(e){if("function"==typeof e)return e;if("string"==typeof e){if("undefined"==typeof t.InterfaceRegistry[e])throw'Interface "'+e+'" does not exist.';return t.InterfaceRegistry[e]}},this);if("undefined"!=typeof this.parent&&"undefined"!=typeof this.parent.__joii__&&(e=this.parent.__joii__.getInterfaces()),"undefined"!=typeof this.interfaces)if("object"==typeof this.interfaces)for(var n in this.interfaces)this.interfaces.hasOwnProperty(n)&&e.push(i(this.interfaces[n]));else e.push(i(this.interfaces));return e},e)}function p(){var i=function(){};i.prototype=this;var f=new i;e.prototype=n;var _=o(this,[],f,!0);return e=t.Compat.extend(!0,e,_),n=s(e,e,n),r(e,n),a(e,[]),e}var c=t.Compat.ParseArguments(arguments),l=c.name,u=c.parameters,m=c.body,d=c.is_static_generated===!0;if("function"==typeof m&&(m=m(e)),"object"!=typeof m)throw"Invalid parameter types given. Expected: ([[[string], object], <object|function>]).";n.prototype=t.PrototypeBuilder(l,u,m,!1,d);for(var y in n.prototype.__joii__.constants)t.CreateProperty(n,y,n.prototype.__joii__.constants[y],!1);if("string"==typeof u["enum"]){var h=t.EnumBuilder(u["enum"],n);if(u.expose_enum===!0){var b="object"==typeof window?window:global;if("undefined"!=typeof b[u["enum"]])throw'Cannot expose Enum "'+u["enum"]+'" becase it already exists in the global scope.';b[u["enum"]]=h}}var g=arguments[0];if(n.toString=function(){return"string"==typeof g?"[class "+g+"]":"[class Class]"},n.prototype.__joii__.interfaces=u["implements"],_(n.prototype.__joii__),u["abstract"]!==!0){var v=n.prototype.__joii__.getInterfaces();for(var j in v)v.hasOwnProperty(j)&&"function"==typeof v[j]&&v[j](n)}if(u["static"]!==!0&&!d){if(!("serialize"in n.prototype.__joii__.metadata)||"overloads"in n.prototype.__joii__.metadata.serialize&&(n.prototype.__joii__.metadata.serialize.overloads[0].parameters.length>0||n.prototype.__joii__.metadata.serialize.overloads.length>1)){var C=function(){return JSON.stringify(this.serialize(!0))},w=t.ParseClassProperty("public function serialize()");t.addFunctionToPrototype(n.prototype,w,C,!0);var C=function(e){var i={__joii_type:this.__joii__.name};for(var n in this.__joii__.metadata){var a=this.__joii__.metadata[n];if(a.serializable){var r=t.GenerateGetterName(a),o=null;o="function"==typeof this[r]?this[r]():this[a.name],a.is_enum||"object"!=typeof o||null===o?i[a.name]=o:"serialize"in o?i[a.name]=o.serialize(!0):i[a.name]=t.Compat.flattenObject(o)}}return i},w=t.ParseClassProperty("public function serialize(boolean)");t.addFunctionToPrototype(n.prototype,w,C,!0)}if(!("deserialize"in n.prototype.__joii__.metadata)||"overloads"in n.prototype.__joii__.metadata.deserialize&&(n.prototype.__joii__.metadata.deserialize.overloads[0].parameters.length>0||n.prototype.__joii__.metadata.deserialize.overloads.length>1)){var C=function(e){this.deserialize(JSON.parse(e))},P=t.ParseClassProperty("public function deserialize(string)");t.addFunctionToPrototype(n.prototype,P,C,!0),C=function(e){for(var i in this.__joii__.metadata){var n=this.__joii__.metadata[i];if(n.serializable&&n.name in e&&"function"!=typeof e[n.name]){var a=t.GenerateSetterName(n),r=t.GenerateGetterName(n);if("object"==typeof e[n.name]&&null!==e[n.name]&&"__joii_type"in e[n.name]){var o=e[n.name].__joii_type;if("undefined"!=typeof t.InterfaceRegistry[o])throw"Cannot instantiate an interface.";if("undefined"==typeof t.ClassRegistry[o])throw"Class "+o+" not currently in scope!";var s=null;s="function"==typeof this[r]?this[r]():this[n.name],"object"==typeof s&&null!==s&&s.__joii__.name===o?s.deserialize(e[n.name]):"function"==typeof this[a]?this[a](t.ClassRegistry[o].deserialize(e[n.name])):this[n.name]=t.ClassRegistry[o].deserialize(e[n.name])}else if("object"==typeof e[n.name]&&null!==e[n.name]){var s=null;s="function"==typeof this[r]?this[r]():this[n.name];var f=t.Compat.inflateObject(e[n.name],s);"function"==typeof this[a]?this[a](f):this[n.name]=f}else"function"==typeof this[a]?this[a](e[n.name]):this[n.name]=e[n.name]}}},P=t.ParseClassProperty("public function deserialize(object)"),t.addFunctionToPrototype(n.prototype,P,C,!0)}}if(!d&&"string"!=typeof u["enum"]){var O=!1;if(O=!0,p.prototype=t.PrototypeBuilder(l,u,m,!1,!0),p.prototype.__joii__.interfaces=u["implements"],_(p.prototype.__joii__),u["abstract"]!==!0){var v=p.prototype.__joii__.getInterfaces();for(var j in v)v.hasOwnProperty(j)&&"function"==typeof v[j]&&v[j](p)}var C=function(e){return this.deserialize(JSON.parse(e))},P=t.ParseClassProperty("public static function deserialize(string)");
t.addFunctionToPrototype(p.prototype,P,C,!0),C=function(e){var t={__joii_deserialize_object:!0,data:e};return new n(t)},P=t.ParseClassProperty("public static function deserialize(object)"),t.addFunctionToPrototype(p.prototype,P,C,!0),i[l]=new p,n.__joii__.prototype=p.prototype}if("undefined"!=typeof t.ClassRegistry[l])throw'Another class named "'+l+'" already exists.';return t.ClassRegistry[l]=n,n.prototype=t.Compat.extend(!0,{},n.prototype),n},t="undefined"!=typeof t?t:{},t.InterfaceRegistry={},t.InterfaceBuilder=function(){var e=t.Compat.ParseArguments(arguments),i=e.name,n=e.parameters,a=e.body,r=t.PrototypeBuilder(i,n,a,!0),o=function(e){var i,n,a,r=new t.Reflection.Class(e),o=this.reflector.getProperties(),s=this.reflector.getMethods();if(r.isAbstract())return!0;var f=function(e,t,i,n){if(t.getVisibility()!==i.getVisibility())throw n+" "+i.getName()+" cannot be "+i.getVisibility()+" because the interface declared it "+t.getVisibility()+".";if("Method"!=n){if(t.getType()!==i.getType())throw n+" "+i.getName()+" cannot be declared as "+i.getType()+" because the interface declared it as "+t.getType()+".";if(t.isNullable()!==i.isNullable())throw n+" "+i.getName()+" must be nullable as defined in the interface "+e.name+"."}return!0};for(i in o)if(o.hasOwnProperty(i)!==!1&&(n=o[i],(!n.isStatic()||r.isStatic())&&(n.isStatic()||!r.isStatic()))){if(!r.hasProperty(n.getName()))throw"Class must implement "+n.toString().split(":")[0]+" as defined in the interface "+this.name+".";a=r.getProperty(n.getName()),f(this,n,a,"Property")}for(i in s)if(s.hasOwnProperty(i)!==!1&&(n=s[i],(!n.isStatic()||r.isStatic())&&(n.isStatic()||!r.isStatic()))){if(!r.hasMethod(n.getName()))throw"Class must implement "+n.toString().split(":")[0]+" as defined in the interface "+this.name+".";a=r.getMethod(n.getName()),f(this,n,a,"Method");var _=n.getParameters(),p=a.getParameters();if(0==_.length||"object"!=typeof _[0]){if(_.length!==p.length)throw"Method "+n.getName()+" does not match the parameter count as defined in the interface "+this.name+"."}else for(var c=0;c<_.length;c++){for(var l=_[c],u=!0,m=0;m<p.length;m++){var d=p[m];if(l.length===d.length){u=!1;for(var y=0;y<l.length;y++)l[y].type!=d[y].type&&(u=!0);if(!u)break}}if(u)throw"Method "+n.getName()+" does not match the parameter types as defined in the interface "+this.name+"."}}};t.CreateProperty(o,"__interface__",{prototype:r,reflector:new t.Reflection.Class(r),name:i}),t.CreateProperty(o,"__joii__",r.__joii__);var s=t.Compat.Bind(o,o.__interface__);s.prototype=r;var f,_=o.__interface__.reflector.getProperties(),p=o.__interface__.reflector.getMethods(),c=function(e,t){if(e.isAbstract())throw"An interface may not contain abstract definitions. "+t+" "+e.getName()+" is abstract in interface "+o.__interface__.name+".";if(e.isFinal())throw"An interface may not contain final definitions. "+t+" "+e.getName()+" is final in interface "+o.__interface__.name+"."};for(f in _)_.hasOwnProperty(f)!==!1&&c(_[f],"Property");for(f in p)p.hasOwnProperty(f)!==!1&&c(p[f],"Method");if(t.CreateProperty(s,"definition",o),"undefined"!=typeof t.InterfaceRegistry[i])throw'Another interface with the name "'+i+'" already exists.';if(-1!==t.Compat.indexOf(t.InternalTypeNames,i))throw'An interface may not be named "'+i+'", becase that name is reserved.';var l={};for(f in r.__joii__.constants)r.__joii__.constants.hasOwnProperty(f)!==!1&&(t.CreateProperty(s,f,r.__joii__.constants[f],!1),l[f]=r.__joii__.constants[f]);if("string"==typeof n["enum"]){var u=t.EnumBuilder(n["enum"],l);if(n.expose_enum===!0){var m="object"==typeof window?window:global;if("undefined"!=typeof m[n["enum"]])throw'Cannot expose Enum "'+n["enum"]+'" becase it already exists in the global scope.';m[n["enum"]]=u}}return t.InterfaceRegistry[i]=s,s},t="undefined"!=typeof t?t:{},t.EnumRegistry={},t.EnumBuilder=t.ClassBuilder({"final":!0},{"public immutable string name":null,"public immutable object constants":{},__construct:function(e,t){this.name=e,this.constants=t},contains:function(e){for(var t in this.constants)if(this.constants.hasOwnProperty(t)!==!1&&this.constants[t]===e)return!0;return!1},__call:function(e,i){if("string"!=typeof e)throw"Argument #1 of Enum must be a string, "+typeof e+" given.";if("function"==typeof i&&"undefined"!=typeof i.prototype.__joii__&&(i=i.prototype.__joii__.constants),"object"!=typeof i)throw"Argument #2 of Enum must be an object or definition, "+typeof i+" given.";if("undefined"!=typeof t.EnumRegistry[e.toLowerCase()])throw'Enumerator "'+e+'" already exists.';var n=new t.EnumBuilder(e,i);for(var a in i){if("function"==typeof i[a])throw'An enumerator cannot contain functions. "'+a+'" is a function.';if("object"==typeof i[a])throw'An enumerator cannot contain objects. "'+a+'" is an object.';t.CreateProperty(n,a,i[a],!1)}return t.EnumRegistry[e.toLowerCase()]=n,n}}),t="undefined"!=typeof t?t:{},t.Reflection={},t.Reflection.Class=t.ClassBuilder({},{"protected immutable object meta":null,"protected immutable object proto":null,"public immutable object parent":null,"protected __construct":function(e){if("function"==typeof e&&(e=e.prototype),"object"!=typeof e||"object"!=typeof e.__joii__)throw"Reflection.Class requires a JOII-created definition.";this.proto=e,this.meta=e.__joii__,"undefined"!=typeof this.meta.parent&&(this.parent=new t.Reflection.Class(this.meta.parent))},"public getName":function(){return this.meta.name},"public isAbstract":function(){return this.meta.is_abstract===!0},"public isStatic":function(){return this.meta.is_static},"public hasProperty":function(e){var t=this.getProperties();for(var i in t)if(t[i].getName()===e)return!0;return!1},"public hasParent":function(){return null!==this.parent},"public getParent":function(){return this.parent},"public getMethods":function(e){var i=[];for(var n in this.proto)"function"==typeof this.proto[n]&&-1===t.Compat.indexOf(t.InternalPropertyNames,n)&&i.push(new t.Reflection.Method(this,n));return i},"public hasMethod":function(e){var t=this.getMethods();for(var i in t)if(t[i].getName()===e)return!0;return!1},"public getMethod":function(e){var t=this.getMethods();for(var i in t)if(t[i].getName()===e)return t[i];throw'Method "'+e+'" does not exist.'},"public getProperties":function(e){var i=[];for(var n in this.proto)"function"!=typeof this.proto[n]&&-1===t.Compat.indexOf(t.InternalPropertyNames,n)&&i.push(new t.Reflection.Property(this,n));return i},"public getProperty":function(e){var t=this.getProperties();for(var i in t)if(t[i].getName()===e)return t[i];throw'Property "'+e+'" does not exist.'}}),t.Reflection.Property=t.ClassBuilder({},{"protected nullable object reflector":null,"protected nullable object meta":null,"public read string name":null,"protected __construct":function(e,t){this.reflector=e,this.name=t,this.meta=e.getMeta().metadata[t],"undefined"==typeof this.meta&&(this.meta={name:this.name,type:null,visibility:"public",is_nullable:!1,is_abstract:!1,is_read_only:!1,is_final:!1}),null===this.meta.type&&this.meta.is_nullable===!1&&(this.meta.type=typeof this.reflector.getProto()[this.meta.name])},"public getType":function(){return this.meta.type},"public isAbstract":function(){return this.meta.is_abstract},"public isStatic":function(){return this.meta.is_static},"public isNullable":function(){return this.meta.is_nullable},"public isFinal":function(){return this.meta.is_final},"public isPrivate":function(){return"private"===this.meta.visibility},"public isProtected":function(){return"protected"===this.meta.visibility},"public isPublic":function(){return"public"===this.meta.visibility},"public isImmutable":function(){return this.meta.is_read_only},"public isConstant":function(){return this.meta.is_constant},"public isType":function(e){return e===this.meta.type},"public getVisibility":function(){return this.meta.visibility},toString:function(){var e=[],t=this.reflector.getProto()[this.name],i="",n="";return this.meta.is_abstract&&e.push("abstract"),this.meta.is_final&&e.push("final"),e.push(this.meta.visibility),this.meta.is_static&&e.push("static"),this.meta.is_nullable&&e.push("nullable"),this.meta.is_read_only&&e.push("read"),null===this.meta.type?null===t?e.push("mixed"):e.push(typeof t):e.push(this.meta.type),e.push('"'+this.meta.name+'"'),i=e.join(" "),n="function"==typeof t?"[Function]":"object"==typeof t&&null!==t?"[Object ("+t.length+")]":"string"==typeof t?'"'+t+'"':t,i+": "+n}}),t.Reflection.Method=t.ClassBuilder({"extends":t.Reflection.Property},{"public getParameters":function(){var e=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,t=/,/,i=/^\s*(_?)(\S+?)\1\s*$/,n=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,a=function(a){var r,o,s=[];r=a.toString().replace(n,""),o=r.match(e);var f=o[1].split(t),_=function(e,t,i){s.push(i)};for(var p in f){var c=f[p];c.replace(i,_)}return s},r=this.reflector.getProto(),o=r.__joii__.metadata[this.name].overloads;if(o&&0!==o.length){if(1===o.length&&0===o[0].parameters.length)return a(o[0].fn);for(var s=[],f=0;f<o.length;f++){for(var _=[],p=o[f],c=a(p.fn),l=0;l<p.parameters.length;l++){var u={name:c.length>l?c[l]:null,type:p.parameters[l]};_.push(u)}s.push(_)}return s}return a(this.reflector.getProto()[this.name])},"public getBodyAsString":function(e){var t=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,i=this.reflector.getProto()[this.name].toString().replace(t,"");return i.substr(i.indexOf("{")+1,i.lastIndexOf("}")-4).replace(/}([^}]*)$/,"$1")},"public usesVariadicArguments":function(){var e=this.reflector.getProto()[this.name].toString();return e.match(/[\(|\.|\ ](arguments)[\)|\.|\,|\ |]/g)},toString:function(){var e=this["super"]("toString").split(":")[0],t="[Function",i=this.getParameters(),n=this.usesVariadicArguments();if(i.length>0&&"object"==typeof i[0])for(var a=0;a<i.length;a++){var r=i[a];t+=" (";for(var o=!0,s=0;s<r.length;s++)o||(t+=", "),o=!1,t+=r[s].type,null!==r[s].name&&(t+=" "+r[s].name,n=!0);var f=this.reflector.getProto().__joii__.metadata[this.name].overloads[a].fn.toString();n=f.match(/[\(|\.|\ ](arguments)[\)|\.|\,|\ |]/g),n&&(t+=", ..."),t+=")\n"}else i.length>0?(t+=" ("+i.join(", "),n&&(t+=", ..."),t+=")"):0===i.length&&n&&(t+=" (...)");return t+="]",e+": "+t}}),e.JOII=t,e.Class=t.ClassBuilder,e.Interface=t.InterfaceBuilder,e.Enum=t.EnumBuilder,e.useGlobal=function(){var t="object"==typeof window?window:global;for(var i in e)e.hasOwnProperty(i)!==!1&&(t[i]=e[i])},e});